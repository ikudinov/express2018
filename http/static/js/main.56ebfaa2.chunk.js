(this["webpackJsonpbase-app"]=this["webpackJsonpbase-app"]||[]).push([[0],{57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(1),r=c.n(a),s=c(30),i=c.n(s),o=c(9),u=c(25),l=(c(57),c(33)),j=c(23),b=c(27),d=c.n(b),O=(c(58),c.p+"static/media/iconClose.12207cd1.svg"),h=c.p+"static/media/iconCloseRound.1c4d5cb3.svg",p=c.p+"static/media/iconCloudyDay.0059aebf.svg",m=c(18),f=Object(m.a)([function(e){return e.weatherApp.weather}],(function(e){return e})),_=Object(m.a)([function(e){return e.weatherApp.cities}],(function(e){return e})),x=Object(m.a)([function(e){return e.weatherApp.city}],(function(e){return e})),v=Object(m.a)([function(e){return e.weatherApp.openSearch}],(function(e){return e})),w=c(79),N="SET_OPEN_SEARCH",y="LOAD_WEATHER",g="LOAD_WEATHER_SUCCESS",S="LOAD_CITIES",C="LOAD_CITIES_SUCCESS",E=Object(w.a)(N,(function(e){return e})),k=Object(w.a)(y,(function(e){return e})),A=Object(w.a)(g,(function(e){return e})),T=Object(w.a)(S,(function(e){return e})),L=Object(w.a)(C,(function(e){return e})),D=(c(59),Object(m.a)([function(e){return e.ui.topLoader}],(function(e){return e}))),R=Object(m.a)([function(e){return e.ui.mainLoader}],(function(e){return e}));function I(){var e=Object(o.e)(D),t=Object(a.useState)(!1),c=Object(j.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(!1),u=Object(j.a)(i,2),l=u[0],b=u[1],O=Object(a.useState)(!1),h=Object(j.a)(O,2),p=h[0],m=h[1],f=Object(a.useRef)(null),_=Object(a.useRef)(null);return Object(a.useEffect)((function(){e&&!r&&s(!0),!e&&r&&(s(!1),b(!0),f.current=setTimeout((function(){m(!0),_.current=setTimeout((function(){b(!1),m(!1)}),100)}),200))}),[e,r]),Object(a.useEffect)((function(){return function(){f.current&&clearTimeout(f.current),_.current&&clearTimeout(_.current)}}),[]),Object(n.jsx)("div",{className:d()({"top-loader":!0,"top-loader--enabled":r&&!p}),children:Object(n.jsx)("div",{className:d()({"top-loader__bar":!0,"top-loader__bar--start":r,"top-loader__bar--stop":l,"top-loader__bar--finish":p})})})}c(60);function W(){return Object(o.e)(R)?Object(n.jsx)("div",{className:"main-loader",children:Object(n.jsxs)("div",{className:"main-loader__spinner",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}):null}function F(){var e=r.a.useState(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(o.d)(),i=Object(o.e)(f),u=Object(o.e)(_),l=Object(o.e)(x),b=Object(o.e)(v),m=function(){return s(E(!b))},w=function(){a(""),s(L([]))};return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(I,{}),Object(n.jsx)("header",{className:"app__header",children:Object(n.jsx)("button",{className:"app__btn-menu app__btn-menu--dotted",onClick:m,children:Object(n.jsx)("span",{className:"sr-only",children:"Open menu"})})}),Object(n.jsx)("main",{className:"app__main",children:Object(n.jsxs)("section",{className:"weather",children:[Object(n.jsx)("img",{className:"weather__icon",src:p,alt:""}),Object(n.jsx)("strong",{className:"weather__title",children:"Cloudy"}),l&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"weather__location",children:l}),Object(n.jsx)("div",{className:"weather__info",children:Object(n.jsxs)("div",{className:"weather-info",children:[i.temp&&Object(n.jsxs)("div",{className:"weather-info__item",children:[Object(n.jsxs)("strong",{className:"weather-info__title",children:[i.temp,"\xb0"]}),Object(n.jsx)("span",{className:"weather-info__desc",children:"Feels like"})]}),i.wind&&Object(n.jsxs)("div",{className:"weather-info__item",children:[Object(n.jsxs)("strong",{className:"weather-info__title",children:[i.wind," km/h"]}),Object(n.jsx)("span",{className:"weather-info__desc",children:"Wind speed"})]})]})})]})]})}),Object(n.jsx)("aside",{className:d()({app__aside:!0,"app__aside--show":b}),children:Object(n.jsxs)("section",{className:"weather-search",children:[Object(n.jsxs)("header",{className:"weather-search__header",children:[Object(n.jsx)("strong",{className:"weather-search__title",children:"Choose city"}),Object(n.jsx)("button",{className:"app__btn-menu weather-search__btn-close",onClick:m,children:Object(n.jsx)("img",{width:18,height:18,src:O,alt:"close"})})]}),Object(n.jsxs)("div",{className:"weather-search-input",children:[Object(n.jsx)("input",{onChange:function(e){e.target.value!==c&&a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s(T(c))},value:c,className:"weather-search-input__field",placeholder:"Search",autoFocus:!0}),!!c.length&&Object(n.jsx)("button",{onClick:w,className:"app__btn-menu weather-search-input__btn-clear",children:Object(n.jsx)("img",{width:14,height:14,src:h,alt:"close"})})]}),Object(n.jsx)("ul",{className:"weather-search-suggestion",children:u.map((function(e){return Object(n.jsx)("li",{onClick:function(){var t;t=null===e||void 0===e?void 0:e.name,s(k(t)),w(),m()},className:"weather-search-suggestion__item",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})}),Object(n.jsx)(W,{})]})}function H(){return Object(n.jsx)(l.c,{children:Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(F,{})})})}var M,P,J=c(17),K=c(44),U=c(46),B=c(47),q=c(16),z=Object(q.a)(),G=c(12),Q=c(10),V=c(78),X=(M={},Object(G.a)(M,y,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{city:c,weather:{temp:null,wind:null}})})),Object(G.a)(M,g,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{weather:Object(Q.a)({},c)})})),Object(G.a)(M,C,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{cities:c})})),Object(G.a)(M,N,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{openSearch:c})})),M),Y=Object(V.a)(X,{cities:[],weather:{temp:null,wind:null},city:null,openSearch:!0}),Z="SET_TOP_LOADER",$="SET_MAIN_LOADER",ee=Object(w.a)(Z,(function(e){return e})),te=Object(w.a)($,(function(e){return e})),ce=(P={},Object(G.a)(P,Z,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{topLoader:c})})),Object(G.a)(P,$,(function(e,t){var c=t.payload;return Object(Q.a)(Object(Q.a)({},e),{},{mainLoader:c})})),P),ne=Object(V.a)(ce,{topLoader:!1,mainLoader:!1}),ae=Object(J.combineReducers)({weatherApp:Y,ui:ne,router:Object(u.b)(z)}),re=c(15),se=c.n(re),ie=c(8),oe=c(40),ue=c.n(oe),le="botx",je="current_weather",be="cities_autocomplete",de=se.a.mark(pe),Oe=se.a.mark(me),he=se.a.mark(fe);function pe(e){var t,c,n,a,r,s,i;return se.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,o.next=4,Object(ie.c)(te(!0));case 4:return o.next=6,ue.a.send({type:je,handler:le,payload:t});case 6:return s=o.sent,i={temp:(null===s||void 0===s||null===(c=s.payload)||void 0===c||null===(n=c.weather)||void 0===n?void 0:n.tempC)||null,wind:(null===s||void 0===s||null===(a=s.payload)||void 0===a||null===(r=a.weather)||void 0===r?void 0:r.windKph)||null},o.next=10,Object(ie.c)(A(i));case 10:return o.next=12,Object(ie.c)(L([]));case 12:return o.next=14,Object(ie.c)(E(!1));case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),console.error("loadWeatherSaga error: ".concat(o.t0.message));case 19:return o.prev=19,o.next=22,Object(ie.c)(te(!1));case 22:return o.finish(19);case 23:case"end":return o.stop()}}),de,null,[[1,16,19,23]])}function me(e){var t,c;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(ie.c)(ee(!0));case 4:return n.next=6,ue.a.send({type:be,handler:le,payload:t});case 6:return c=n.sent,n.next=9,Object(ie.c)(L(c.payload.cities));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error("loadCitiesSaga error: ".concat(n.t0.message));case 14:return n.prev=14,n.next=17,Object(ie.c)(ee(!1));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),Oe,null,[[1,11,14,18]])}function fe(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.d)(y,pe)]);case 2:return e.next=4,Object(ie.a)([Object(ie.d)(S,me)]);case 4:case"end":return e.stop()}}),he)}var _e=se.a.mark(xe);function xe(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.a)([Object(ie.b)(fe)]);case 2:case"end":return e.stop()}}),_e)}var ve=xe;var we=function(e){var t=Object(B.a)(),c=Object(K.a)(z),n=Object(J.createStore)(ae,e,Object(U.composeWithDevTools)(Object(J.applyMiddleware)(t,c)));return t.run(ve).toPromise().catch((function(e){return console.error("Saga error",e)})),n}();i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{store:we,children:Object(n.jsx)(u.a,{history:z,children:Object(n.jsx)(H,{})})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.56ebfaa2.chunk.js.map