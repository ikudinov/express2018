(this["webpackJsonpbase-app"]=this["webpackJsonpbase-app"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(1),r=n.n(c),s=n(31),i=n.n(s),o=n(10),u=n(25),l=(n(66),n(34)),d=n(23),j=n(27),b=n.n(j),O=n(54),p=n.n(O),h=(n(74),n.p+"static/media/iconClose.42061dc9.svg"),f=n.p+"static/media/iconCloseRound.33fd2b69.svg",v=n.p+"static/media/iconCloudyDay.1decc728.svg",m=n.p+"static/media/iconRainyDay.9a648cdb.svg",x=n.p+"static/media/iconSnowfall.b3d5f1df.svg",_=n.p+"static/media/iconSunny.9f00bedd.svg",w=n(18),y=Object(w.a)([function(e){return e.weatherApp.weather}],(function(e){return e})),N=Object(w.a)([function(e){return e.weatherApp.cities}],(function(e){return e})),g=Object(w.a)([function(e){return e.weatherApp.city}],(function(e){return e})),S=Object(w.a)([function(e){return e.weatherApp.openSearch}],(function(e){return e})),C=n(117),E="SET_OPEN_SEARCH",k="LOAD_WEATHER",A="LOAD_WEATHER_SUCCESS",T="LOAD_CITIES",L="LOAD_CITIES_SUCCESS",D="LOAD_CITY_SUCCESS",I="LOAD_INITIAL_STATE",R=Object(C.a)(E,(function(e){return e})),W=Object(C.a)(k,(function(e){return e})),F=Object(C.a)(A,(function(e){return e})),H=Object(C.a)(T,(function(e){return e})),K=Object(C.a)(D,(function(e){return e})),M=Object(C.a)(L,(function(e){return e})),P=Object(C.a)(I),U=(n(75),Object(w.a)([function(e){return e.ui.topLoader}],(function(e){return e}))),q=Object(w.a)([function(e){return e.ui.mainLoader}],(function(e){return e}));function J(){var e=Object(o.e)(U),t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!1),u=Object(d.a)(i,2),l=u[0],j=u[1],O=Object(c.useState)(!1),p=Object(d.a)(O,2),h=p[0],f=p[1],v=Object(c.useRef)(null),m=Object(c.useRef)(null);return Object(c.useEffect)((function(){e&&!r&&s(!0),!e&&r&&(s(!1),j(!0),v.current=setTimeout((function(){f(!0),m.current=setTimeout((function(){j(!1),f(!1)}),100)}),200))}),[e,r]),Object(c.useEffect)((function(){return function(){v.current&&clearTimeout(v.current),m.current&&clearTimeout(m.current)}}),[]),Object(a.jsx)("div",{className:b()({"top-loader":!0,"top-loader--enabled":r&&!h}),children:Object(a.jsx)("div",{className:b()({"top-loader__bar":!0,"top-loader__bar--start":r,"top-loader__bar--stop":l,"top-loader__bar--finish":h})})})}n(76);function B(){return Object(o.e)(q)?Object(a.jsx)("div",{className:"main-loader",children:Object(a.jsxs)("div",{className:"main-loader__spinner",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})}):null}function Y(){var e=r.a.useState(""),t=Object(d.a)(e,2),n=t[0],s=t[1],i=r.a.useRef(),u=Object(o.d)(),l=Object(o.e)(y),j=Object(o.e)(N),O=Object(o.e)(g),w=Object(o.e)(S);Object(c.useEffect)((function(){u(P())}),[u]),Object(c.useEffect)((function(){var e;w&&(null===i||void 0===i||null===(e=i.current)||void 0===e||e.focus())}),[w]);var C=p()((function(e){var t=e.target.value;t.length>=3&&!n.includes(t)&&u(H(t)),s(t)}),1e3,{leading:!0}),E=function(){!O&&w||(n.length||u(M([])),u(R(!w)))},k=function(){s(""),u(M([]))};return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(J,{}),Object(a.jsx)("header",{className:"app__header",children:Object(a.jsx)("button",{className:"app__btn-menu app__btn-menu--dotted",onClick:E,children:Object(a.jsx)("span",{className:"sr-only",children:"Open menu"})})}),Object(a.jsx)("main",{className:"app__main",children:O&&l&&Object(a.jsxs)("section",{className:"weather",children:[Object(a.jsx)("img",{className:"weather__icon",src:function(e){var t=e.toLowerCase();switch(!0){case t.includes("sun")||t.includes("clear"):return _;case t.includes("rain"):return m;case t.includes("snow")||t.includes("sleet"):return x;default:return v}}(l.text),alt:""}),Object(a.jsx)("strong",{className:"weather__title",children:l.text}),O&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"weather__location",children:O}),Object(a.jsx)("div",{className:"weather__info",children:Object(a.jsxs)("div",{className:"weather-info",children:[Object(a.jsxs)("div",{className:"weather-info__item",children:[Object(a.jsxs)("strong",{className:"weather-info__title",children:[l.temp||0,"\xb0"]}),Object(a.jsx)("span",{className:"weather-info__desc",children:"Feels like"})]}),l.wind&&Object(a.jsxs)("div",{className:"weather-info__item",children:[Object(a.jsxs)("strong",{className:"weather-info__title",children:[l.wind," km/h"]}),Object(a.jsx)("span",{className:"weather-info__desc",children:"Wind speed"})]})]})})]})]})}),Object(a.jsx)("aside",{className:b()({app__aside:!0,"app__aside--show":w}),children:Object(a.jsxs)("section",{className:"weather-search",children:[Object(a.jsxs)("header",{className:"weather-search__header",children:[Object(a.jsx)("strong",{className:"weather-search__title",children:"Choose city"}),Object(a.jsx)("button",{className:"app__btn-menu weather-search__btn-close",onClick:E,children:Object(a.jsx)("img",{width:18,height:18,src:h,alt:"close"})})]}),Object(a.jsxs)("div",{className:"weather-search-input",children:[Object(a.jsx)("input",{ref:i,onChange:C,onKeyDown:function(e){"Enter"===e.key&&u(H(n))},className:"weather-search-input__field",placeholder:"Search",autoFocus:!0,value:n}),!!n.length&&Object(a.jsx)("button",{onClick:k,className:"app__btn-menu weather-search-input__btn-clear",children:Object(a.jsx)("img",{width:14,height:14,src:f,alt:"close"})})]}),Object(a.jsx)("ul",{className:"weather-search-suggestion",children:j.map((function(e){return Object(a.jsx)("li",{onClick:function(){var t;t=null===e||void 0===e?void 0:e.name,u(W(t)),k(),E()},className:"weather-search-suggestion__item",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})}),Object(a.jsx)(B,{})]})}function z(){return Object(a.jsx)(l.c,{children:Object(a.jsx)(l.a,{path:"/",children:Object(a.jsx)(Y,{})})})}var G,Q,V=n(17),X=n(52),Z=n(55),$=n(56),ee=n(16),te=Object(ee.a)(),ne=n(13),ae=n(8),ce=n(116),re=(G={},Object(ne.a)(G,k,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{city:n,weather:{temp:null,wind:null,text:""}})})),Object(ne.a)(G,A,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{weather:Object(ae.a)({},n)})})),Object(ne.a)(G,L,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{cities:n})})),Object(ne.a)(G,D,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{city:n})})),Object(ne.a)(G,E,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{openSearch:n})})),G),se=Object(ce.a)(re,{cities:[],weather:{temp:null,wind:null,text:""},city:null,openSearch:!1}),ie="SET_TOP_LOADER",oe="SET_MAIN_LOADER",ue=Object(C.a)(ie,(function(e){return e})),le=Object(C.a)(oe,(function(e){return e})),de=(Q={},Object(ne.a)(Q,ie,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{topLoader:n})})),Object(ne.a)(Q,oe,(function(e,t){var n=t.payload;return Object(ae.a)(Object(ae.a)({},e),{},{mainLoader:n})})),Q),je=Object(ce.a)(de,{topLoader:!1,mainLoader:!1}),be=Object(V.combineReducers)({weatherApp:se,ui:je,router:Object(u.b)(te)}),Oe=n(12),pe=n.n(Oe),he=n(6),fe=n(35),ve=n.n(fe),me="botx",xe="current_weather",_e="cities_autocomplete",we="initial_state",ye=pe.a.mark(Ce),Ne=pe.a.mark(Ee),ge=pe.a.mark(ke),Se=pe.a.mark(Ae);function Ce(e){var t,n,a,c,r,s,i,o,u,l,d,j,b,O;return pe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.prev=1,p.next=4,Object(he.c)(le(!0));case 4:return p.next=6,ve.a.send({type:xe,handler:me,payload:{query:t}});case 6:return b=p.sent,O={temp:(null===b||void 0===b||null===(n=b.payload)||void 0===n||null===(a=n.weather)||void 0===a?void 0:a.tempC)||(null===b||void 0===b||null===(c=b.payload)||void 0===c||null===(r=c.weather)||void 0===r?void 0:r.temp_c)||null,wind:(null===b||void 0===b||null===(s=b.payload)||void 0===s||null===(i=s.weather)||void 0===i?void 0:i.windKph)||(null===b||void 0===b||null===(o=b.payload)||void 0===o||null===(u=o.weather)||void 0===u?void 0:u.wind_kph)||null,text:(null===b||void 0===b||null===(l=b.payload)||void 0===l||null===(d=l.weather)||void 0===d||null===(j=d.condition)||void 0===j?void 0:j.text)||""},p.next=10,Object(he.c)(F(O));case 10:return p.next=12,Object(he.c)(M([]));case 12:return p.next=14,Object(he.c)(R(!1));case 14:p.next=19;break;case 16:p.prev=16,p.t0=p.catch(1),console.error("loadWeatherSaga error: ".concat(p.t0.message));case 19:return p.prev=19,p.next=22,Object(he.c)(le(!1));case 22:return p.finish(19);case 23:case"end":return p.stop()}}),ye,null,[[1,16,19,23]])}function Ee(e){var t,n;return pe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(he.c)(ue(!0));case 4:return a.next=6,ve.a.send({type:_e,handler:me,payload:{query:t}});case 6:return n=a.sent,a.next=9,Object(he.c)(M(n.payload.cities));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),console.error("loadCitiesSaga error: ".concat(a.t0.message));case 14:return a.prev=14,a.next=17,Object(he.c)(ue(!1));case 17:return a.finish(14);case 18:case"end":return a.stop()}}),Ne,null,[[1,11,14,18]])}function ke(){var e,t,n,a;return pe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(he.c)(le(!0));case 3:return c.next=5,ve.a.send({type:we,handler:me,timeout:3e3});case 5:if((n=c.sent).payload.city){c.next=10;break}return c.next=9,Object(he.c)(R(!0));case 9:return c.abrupt("return");case 10:return a={temp:n.payload.weather.tempC||n.payload.weather.temp_c||null,wind:n.payload.weather.windKph||(null===n||void 0===n||null===(e=n.payload)||void 0===e||null===(t=e.weather)||void 0===t?void 0:t.wind_kph)||null,text:n.payload.weather.condition.text||""},c.next=13,Object(he.c)(K(n.payload.city));case 13:return c.next=15,Object(he.c)(F(a));case 15:c.next=22;break;case 17:return c.prev=17,c.t0=c.catch(0),console.error("loadInitialStateSaga error: ",c.t0),c.next=22,Object(he.c)(R(!0));case 22:return c.prev=22,c.next=25,Object(he.c)(le(!1));case 25:return c.finish(22);case 26:case"end":return c.stop()}}),ge,null,[[0,17,22,26]])}function Ae(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([Object(he.d)(k,Ce),Object(he.d)(T,Ee),Object(he.d)(I,ke)]);case 2:case"end":return e.stop()}}),Se)}var Te=pe.a.mark(Le);function Le(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([Object(he.b)(Ae)]);case 2:case"end":return e.stop()}}),Te)}var De=Le;var Ie=function(e){var t=Object($.a)(),n=Object(X.a)(te),a=Object(V.createStore)(be,e,Object(Z.composeWithDevTools)(Object(V.applyMiddleware)(t,n)));return t.run(De).toPromise().catch((function(e){return console.error("Saga error",e)})),a}();i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(o.a,{store:Ie,children:Object(a.jsx)(u.a,{history:te,children:Object(a.jsx)(z,{})})})}),document.getElementById("root"))},66:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.8a209269.chunk.js.map