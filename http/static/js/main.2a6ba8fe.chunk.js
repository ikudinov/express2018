(this["webpackJsonpbase-app"]=this["webpackJsonpbase-app"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(1),r=n.n(a),s=n(31),i=n.n(s),o=n(10),u=n(25),l=(n(66),n(34)),j=n(23),d=n(27),b=n.n(d),O=n(54),p=n.n(O),h=(n(74),n.p+"static/media/iconClose.42061dc9.svg"),f=n.p+"static/media/iconCloseRound.33fd2b69.svg",m=n.p+"static/media/iconCloudyDay.1decc728.svg",x=n.p+"static/media/iconRainyDay.9a648cdb.svg",v=n.p+"static/media/iconSnowfall.b3d5f1df.svg",_=n.p+"static/media/iconSunny.9f00bedd.svg",w=n(18),y=Object(w.a)([function(e){return e.weatherApp.weather}],(function(e){return e})),N=Object(w.a)([function(e){return e.weatherApp.cities}],(function(e){return e})),g=Object(w.a)([function(e){return e.weatherApp.city}],(function(e){return e})),S=Object(w.a)([function(e){return e.weatherApp.openSearch}],(function(e){return e})),C=n(117),E="SET_OPEN_SEARCH",A="LOAD_WEATHER",k="LOAD_WEATHER_SUCCESS",T="LOAD_CITIES",L="LOAD_CITIES_SUCCESS",D="LOAD_CITY_SUCCESS",I="LOAD_INITIAL_STATE",R=Object(C.a)(E,(function(e){return e})),W=Object(C.a)(A,(function(e){return e})),F=Object(C.a)(k,(function(e){return e})),H=Object(C.a)(T,(function(e){return e})),K=Object(C.a)(D,(function(e){return e})),M=Object(C.a)(L,(function(e){return e})),P=Object(C.a)(I),U=(n(75),Object(w.a)([function(e){return e.ui.topLoader}],(function(e){return e}))),q=Object(w.a)([function(e){return e.ui.mainLoader}],(function(e){return e}));function J(){var e=Object(o.e)(U),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(!1),u=Object(j.a)(i,2),l=u[0],d=u[1],O=Object(a.useState)(!1),p=Object(j.a)(O,2),h=p[0],f=p[1],m=Object(a.useRef)(null),x=Object(a.useRef)(null);return Object(a.useEffect)((function(){e&&!r&&s(!0),!e&&r&&(s(!1),d(!0),m.current=setTimeout((function(){f(!0),x.current=setTimeout((function(){d(!1),f(!1)}),100)}),200))}),[e,r]),Object(a.useEffect)((function(){return function(){m.current&&clearTimeout(m.current),x.current&&clearTimeout(x.current)}}),[]),Object(c.jsx)("div",{className:b()({"top-loader":!0,"top-loader--enabled":r&&!h}),children:Object(c.jsx)("div",{className:b()({"top-loader__bar":!0,"top-loader__bar--start":r,"top-loader__bar--stop":l,"top-loader__bar--finish":h})})})}n(76);function B(){return Object(o.e)(q)?Object(c.jsx)("div",{className:"main-loader",children:Object(c.jsxs)("div",{className:"main-loader__spinner",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})}):null}function Y(){var e=r.a.useState(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(o.d)();Object(a.useEffect)((function(){i(P())}),[i]);var u=Object(o.e)(y),l=Object(o.e)(N),d=Object(o.e)(g),O=Object(o.e)(S),w=p()((function(e){var t=e.target.value;t.length>=3&&!n.includes(t)&&i(H(t)),s(t)}),1e3,{leading:!0}),C=function(){!d&&O||(n.length||i(M([])),i(R(!O)))},E=function(){s(""),i(M([]))};return Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(J,{}),Object(c.jsx)("header",{className:"app__header",children:Object(c.jsx)("button",{className:"app__btn-menu app__btn-menu--dotted",onClick:C,children:Object(c.jsx)("span",{className:"sr-only",children:"Open menu"})})}),Object(c.jsx)("main",{className:"app__main",children:d&&u&&Object(c.jsxs)("section",{className:"weather",children:[Object(c.jsx)("img",{className:"weather__icon",src:function(e){var t=e.toLowerCase();switch(!0){case t.includes("sun")||t.includes("clear"):return _;case t.includes("rain"):return x;case t.includes("snow")||t.includes("sleet"):return v;default:return m}}(u.text),alt:""}),Object(c.jsx)("strong",{className:"weather__title",children:u.text}),d&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"weather__location",children:d}),Object(c.jsx)("div",{className:"weather__info",children:Object(c.jsxs)("div",{className:"weather-info",children:[Object(c.jsxs)("div",{className:"weather-info__item",children:[Object(c.jsxs)("strong",{className:"weather-info__title",children:[u.temp||0,"\xb0"]}),Object(c.jsx)("span",{className:"weather-info__desc",children:"Feels like"})]}),u.wind&&Object(c.jsxs)("div",{className:"weather-info__item",children:[Object(c.jsxs)("strong",{className:"weather-info__title",children:[u.wind," km/h"]}),Object(c.jsx)("span",{className:"weather-info__desc",children:"Wind speed"})]})]})})]})]})}),Object(c.jsx)("aside",{className:b()({app__aside:!0,"app__aside--show":O}),children:Object(c.jsxs)("section",{className:"weather-search",children:[Object(c.jsxs)("header",{className:"weather-search__header",children:[Object(c.jsx)("strong",{className:"weather-search__title",children:"Choose city"}),Object(c.jsx)("button",{className:"app__btn-menu weather-search__btn-close",onClick:C,children:Object(c.jsx)("img",{width:18,height:18,src:h,alt:"close"})})]}),Object(c.jsxs)("div",{className:"weather-search-input",children:[Object(c.jsx)("input",{onChange:w,onKeyDown:function(e){"Enter"===e.key&&i(H(n))},className:"weather-search-input__field",placeholder:"Search",autoFocus:!0,value:n}),!!n.length&&Object(c.jsx)("button",{onClick:E,className:"app__btn-menu weather-search-input__btn-clear",children:Object(c.jsx)("img",{width:14,height:14,src:f,alt:"close"})})]}),Object(c.jsx)("ul",{className:"weather-search-suggestion",children:l.map((function(e){return Object(c.jsx)("li",{onClick:function(){var t;t=null===e||void 0===e?void 0:e.name,i(W(t)),E(),C()},className:"weather-search-suggestion__item",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})}),Object(c.jsx)(B,{})]})}function z(){return Object(c.jsx)(l.c,{children:Object(c.jsx)(l.a,{path:"/",children:Object(c.jsx)(Y,{})})})}var G,Q,V=n(17),X=n(52),Z=n(55),$=n(56),ee=n(16),te=Object(ee.a)(),ne=n(13),ce=n(8),ae=n(116),re=(G={},Object(ne.a)(G,A,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{city:n,weather:{temp:null,wind:null,text:""}})})),Object(ne.a)(G,k,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{weather:Object(ce.a)({},n)})})),Object(ne.a)(G,L,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{cities:n})})),Object(ne.a)(G,D,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{city:n})})),Object(ne.a)(G,E,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{openSearch:n})})),G),se=Object(ae.a)(re,{cities:[],weather:{temp:null,wind:null,text:""},city:null,openSearch:!1}),ie="SET_TOP_LOADER",oe="SET_MAIN_LOADER",ue=Object(C.a)(ie,(function(e){return e})),le=Object(C.a)(oe,(function(e){return e})),je=(Q={},Object(ne.a)(Q,ie,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{topLoader:n})})),Object(ne.a)(Q,oe,(function(e,t){var n=t.payload;return Object(ce.a)(Object(ce.a)({},e),{},{mainLoader:n})})),Q),de=Object(ae.a)(je,{topLoader:!1,mainLoader:!1}),be=Object(V.combineReducers)({weatherApp:se,ui:de,router:Object(u.b)(te)}),Oe=n(12),pe=n.n(Oe),he=n(6),fe=n(35),me=n.n(fe),xe="botx",ve="current_weather",_e="cities_autocomplete",we="initial_state",ye=pe.a.mark(Ce),Ne=pe.a.mark(Ee),ge=pe.a.mark(Ae),Se=pe.a.mark(ke);function Ce(e){var t,n,c,a,r,s,i,o,u,l;return pe.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return t=e.payload,j.prev=1,j.next=4,Object(he.c)(le(!0));case 4:return j.next=6,me.a.send({type:ve,handler:xe,payload:{query:t}});case 6:return u=j.sent,l={temp:(null===u||void 0===u||null===(n=u.payload)||void 0===n||null===(c=n.weather)||void 0===c?void 0:c.tempC)||null,wind:(null===u||void 0===u||null===(a=u.payload)||void 0===a||null===(r=a.weather)||void 0===r?void 0:r.windKph)||null,text:(null===u||void 0===u||null===(s=u.payload)||void 0===s||null===(i=s.weather)||void 0===i||null===(o=i.condition)||void 0===o?void 0:o.text)||""},j.next=10,Object(he.c)(F(l));case 10:return j.next=12,Object(he.c)(M([]));case 12:return j.next=14,Object(he.c)(R(!1));case 14:j.next=19;break;case 16:j.prev=16,j.t0=j.catch(1),console.error("loadWeatherSaga error: ".concat(j.t0.message));case 19:return j.prev=19,j.next=22,Object(he.c)(le(!1));case 22:return j.finish(19);case 23:case"end":return j.stop()}}),ye,null,[[1,16,19,23]])}function Ee(e){var t,n;return pe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.next=4,Object(he.c)(ue(!0));case 4:return c.next=6,me.a.send({type:_e,handler:xe,payload:{query:t}});case 6:return n=c.sent,c.next=9,Object(he.c)(M(n.payload.cities));case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(1),console.error("loadCitiesSaga error: ".concat(c.t0.message));case 14:return c.prev=14,c.next=17,Object(he.c)(ue(!1));case 17:return c.finish(14);case 18:case"end":return c.stop()}}),Ne,null,[[1,11,14,18]])}function Ae(){var e,t;return pe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(he.c)(le(!0));case 3:return n.next=5,me.a.send({type:we,handler:xe,timeout:3e3});case 5:if((e=n.sent).payload.city){n.next=10;break}return n.next=9,Object(he.c)(R(!0));case 9:return n.abrupt("return");case 10:return t={temp:e.payload.weather.tempC||null,wind:e.payload.weather.windKph||null,text:e.payload.weather.condition.text||""},n.next=13,Object(he.c)(K(e.payload.city));case 13:return n.next=15,Object(he.c)(F(t));case 15:n.next=22;break;case 17:return n.prev=17,n.t0=n.catch(0),console.error("loadInitialStateSaga error: ",n.t0),n.next=22,Object(he.c)(R(!0));case 22:return n.prev=22,n.next=25,Object(he.c)(le(!1));case 25:return n.finish(22);case 26:case"end":return n.stop()}}),ge,null,[[0,17,22,26]])}function ke(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([Object(he.d)(A,Ce),Object(he.d)(T,Ee),Object(he.d)(I,Ae)]);case 2:case"end":return e.stop()}}),Se)}var Te=pe.a.mark(Le);function Le(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.a)([Object(he.b)(ke)]);case 2:case"end":return e.stop()}}),Te)}var De=Le;var Ie=function(e){var t=Object($.a)(),n=Object(X.a)(te),c=Object(V.createStore)(be,e,Object(Z.composeWithDevTools)(Object(V.applyMiddleware)(t,n)));return t.run(De).toPromise().catch((function(e){return console.error("Saga error",e)})),c}();i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:Ie,children:Object(c.jsx)(u.a,{history:te,children:Object(c.jsx)(z,{})})})}),document.getElementById("root"))},66:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.2a6ba8fe.chunk.js.map