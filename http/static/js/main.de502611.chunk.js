(this["webpackJsonpbase-app"]=this["webpackJsonpbase-app"]||[]).push([[0],{61:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(1),r=c.n(a),s=c(30),i=c.n(s),o=c(10),u=c(25),l=(c(61),c(33)),j=c(23),b=c(27),d=c.n(b),O=c(49),p=c.n(O),h=(c(70),c.p+"static/media/iconClose.12207cd1.svg"),f=c.p+"static/media/iconCloseRound.1c4d5cb3.svg",m=c.p+"static/media/iconCloudyDay.0059aebf.svg",_=c(18),x=Object(_.a)([function(e){return e.weatherApp.weather}],(function(e){return e})),v=Object(_.a)([function(e){return e.weatherApp.cities}],(function(e){return e})),w=Object(_.a)([function(e){return e.weatherApp.city}],(function(e){return e})),y=Object(_.a)([function(e){return e.weatherApp.openSearch}],(function(e){return e})),N=c(91),S="SET_OPEN_SEARCH",g="LOAD_WEATHER",C="LOAD_WEATHER_SUCCESS",E="LOAD_CITIES",A="LOAD_CITIES_SUCCESS",k="LOAD_CITY_SUCCESS",T="LOAD_INITIAL_STATE",L=Object(N.a)(S,(function(e){return e})),D=Object(N.a)(g,(function(e){return e})),I=Object(N.a)(C,(function(e){return e})),R=Object(N.a)(E,(function(e){return e})),W=Object(N.a)(k,(function(e){return e})),F=Object(N.a)(A,(function(e){return e})),H=Object(N.a)(T),K=(c(71),Object(_.a)([function(e){return e.ui.topLoader}],(function(e){return e}))),M=Object(_.a)([function(e){return e.ui.mainLoader}],(function(e){return e}));function P(){var e=Object(o.e)(K),t=Object(a.useState)(!1),c=Object(j.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(!1),u=Object(j.a)(i,2),l=u[0],b=u[1],O=Object(a.useState)(!1),p=Object(j.a)(O,2),h=p[0],f=p[1],m=Object(a.useRef)(null),_=Object(a.useRef)(null);return Object(a.useEffect)((function(){e&&!r&&s(!0),!e&&r&&(s(!1),b(!0),m.current=setTimeout((function(){f(!0),_.current=setTimeout((function(){b(!1),f(!1)}),100)}),200))}),[e,r]),Object(a.useEffect)((function(){return function(){m.current&&clearTimeout(m.current),_.current&&clearTimeout(_.current)}}),[]),Object(n.jsx)("div",{className:d()({"top-loader":!0,"top-loader--enabled":r&&!h}),children:Object(n.jsx)("div",{className:d()({"top-loader__bar":!0,"top-loader__bar--start":r,"top-loader__bar--stop":l,"top-loader__bar--finish":h})})})}c(72);function U(){return Object(o.e)(M)?Object(n.jsx)("div",{className:"main-loader",children:Object(n.jsxs)("div",{className:"main-loader__spinner",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})}):null}function J(){var e=r.a.useState(""),t=Object(j.a)(e,2),c=t[0],s=t[1],i=Object(o.d)();Object(a.useEffect)((function(){i(H())}),[i]);var u=Object(o.e)(x),l=Object(o.e)(v),b=Object(o.e)(w),O=Object(o.e)(y),_=p()((function(e){var t=e.target.value;t.length>=3&&!c.includes(t)&&i(R(t)),s(t)}),1e3,{leading:!0}),N=function(){!b&&O||(c.length||i(F([])),i(L(!O)))},S=function(){s(""),i(F([]))};return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(P,{}),Object(n.jsx)("header",{className:"app__header",children:Object(n.jsx)("button",{className:"app__btn-menu app__btn-menu--dotted",onClick:N,children:Object(n.jsx)("span",{className:"sr-only",children:"Open menu"})})}),Object(n.jsx)("main",{className:"app__main",children:b&&u&&Object(n.jsxs)("section",{className:"weather",children:[Object(n.jsx)("img",{className:"weather__icon",src:m,alt:""}),Object(n.jsx)("strong",{className:"weather__title",children:"Cloudy"}),b&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{className:"weather__location",children:b}),Object(n.jsx)("div",{className:"weather__info",children:Object(n.jsxs)("div",{className:"weather-info",children:[u.temp&&Object(n.jsxs)("div",{className:"weather-info__item",children:[Object(n.jsxs)("strong",{className:"weather-info__title",children:[u.temp,"\xb0"]}),Object(n.jsx)("span",{className:"weather-info__desc",children:"Feels like"})]}),u.wind&&Object(n.jsxs)("div",{className:"weather-info__item",children:[Object(n.jsxs)("strong",{className:"weather-info__title",children:[u.wind," km/h"]}),Object(n.jsx)("span",{className:"weather-info__desc",children:"Wind speed"})]})]})})]})]})}),Object(n.jsx)("aside",{className:d()({app__aside:!0,"app__aside--show":O}),children:Object(n.jsxs)("section",{className:"weather-search",children:[Object(n.jsxs)("header",{className:"weather-search__header",children:[Object(n.jsx)("strong",{className:"weather-search__title",children:"Choose city"}),Object(n.jsx)("button",{className:"app__btn-menu weather-search__btn-close",onClick:N,children:Object(n.jsx)("img",{width:18,height:18,src:h,alt:"close"})})]}),Object(n.jsxs)("div",{className:"weather-search-input",children:[Object(n.jsx)("input",{onChange:_,onKeyDown:function(e){"Enter"===e.key&&i(R(c))},className:"weather-search-input__field",placeholder:"Search",autoFocus:!0,value:c}),!!c.length&&Object(n.jsx)("button",{onClick:S,className:"app__btn-menu weather-search-input__btn-clear",children:Object(n.jsx)("img",{width:14,height:14,src:f,alt:"close"})})]}),Object(n.jsx)("ul",{className:"weather-search-suggestion",children:l.map((function(e){return Object(n.jsx)("li",{onClick:function(){var t;t=null===e||void 0===e?void 0:e.name,i(D(t)),S(),N()},className:"weather-search-suggestion__item",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})]})}),Object(n.jsx)(U,{})]})}function B(){return Object(n.jsx)(l.c,{children:Object(n.jsx)(l.a,{path:"/",children:Object(n.jsx)(J,{})})})}var Y,q,z=c(17),G=c(47),Q=c(50),V=c(51),X=c(16),Z=Object(X.a)(),$=c(13),ee=c(8),te=c(90),ce=(Y={},Object($.a)(Y,g,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{city:c,weather:{temp:null,wind:null}})})),Object($.a)(Y,C,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{weather:Object(ee.a)({},c)})})),Object($.a)(Y,A,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{cities:c})})),Object($.a)(Y,k,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{city:c})})),Object($.a)(Y,S,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{openSearch:c})})),Y),ne=Object(te.a)(ce,{cities:[],weather:{temp:null,wind:null},city:null,openSearch:!1}),ae="SET_TOP_LOADER",re="SET_MAIN_LOADER",se=Object(N.a)(ae,(function(e){return e})),ie=Object(N.a)(re,(function(e){return e})),oe=(q={},Object($.a)(q,ae,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{topLoader:c})})),Object($.a)(q,re,(function(e,t){var c=t.payload;return Object(ee.a)(Object(ee.a)({},e),{},{mainLoader:c})})),q),ue=Object(te.a)(oe,{topLoader:!1,mainLoader:!1}),le=Object(z.combineReducers)({weatherApp:ne,ui:ue,router:Object(u.b)(Z)}),je=c(12),be=c.n(je),de=c(6),Oe=c(34),pe=c.n(Oe),he="botx",fe="current_weather",me="cities_autocomplete",_e="initial_state",xe=be.a.mark(Ne),ve=be.a.mark(Se),we=be.a.mark(ge),ye=be.a.mark(Ce);function Ne(e){var t,c,n,a,r,s,i;return be.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.prev=1,o.next=4,Object(de.c)(ie(!0));case 4:return o.next=6,pe.a.send({type:fe,handler:he,payload:t});case 6:return s=o.sent,i={temp:(null===s||void 0===s||null===(c=s.payload)||void 0===c||null===(n=c.weather)||void 0===n?void 0:n.tempC)||null,wind:(null===s||void 0===s||null===(a=s.payload)||void 0===a||null===(r=a.weather)||void 0===r?void 0:r.windKph)||null},o.next=10,Object(de.c)(I(i));case 10:return o.next=12,Object(de.c)(F([]));case 12:return o.next=14,Object(de.c)(L(!1));case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),console.error("loadWeatherSaga error: ".concat(o.t0.message));case 19:return o.prev=19,o.next=22,Object(de.c)(ie(!1));case 22:return o.finish(19);case 23:case"end":return o.stop()}}),xe,null,[[1,16,19,23]])}function Se(e){var t,c;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object(de.c)(se(!0));case 4:return n.next=6,pe.a.send({type:me,handler:he,payload:t});case 6:return c=n.sent,n.next=9,Object(de.c)(F(c.payload.cities));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.error("loadCitiesSaga error: ".concat(n.t0.message));case 14:return n.prev=14,n.next=17,Object(de.c)(se(!1));case 17:return n.finish(14);case 18:case"end":return n.stop()}}),ve,null,[[1,11,14,18]])}function ge(){var e,t;return be.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(de.c)(ie(!0));case 3:return c.next=5,pe.a.send({type:_e,handler:he,timeout:3e3});case 5:if((e=c.sent).payload.city){c.next=10;break}return c.next=9,Object(de.c)(L(!0));case 9:return c.abrupt("return");case 10:return t={temp:e.payload.weather.tempC||null,wind:e.payload.weather.windKph||null},c.next=13,Object(de.c)(W(e.payload.city));case 13:return c.next=15,Object(de.c)(I(t));case 15:c.next=22;break;case 17:return c.prev=17,c.t0=c.catch(0),console.error("loadInitialStateSaga error: ",c.t0),c.next=22,Object(de.c)(L(!0));case 22:return c.prev=22,c.next=25,Object(de.c)(ie(!1));case 25:return c.finish(22);case 26:case"end":return c.stop()}}),we,null,[[0,17,22,26]])}function Ce(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.a)([Object(de.d)(g,Ne),Object(de.d)(E,Se),Object(de.d)(T,ge)]);case 2:case"end":return e.stop()}}),ye)}var Ee=be.a.mark(Ae);function Ae(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.a)([Object(de.b)(Ce)]);case 2:case"end":return e.stop()}}),Ee)}var ke=Ae;var Te=function(e){var t=Object(V.a)(),c=Object(G.a)(Z),n=Object(z.createStore)(le,e,Object(Q.composeWithDevTools)(Object(z.applyMiddleware)(t,c)));return t.run(ke).toPromise().catch((function(e){return console.error("Saga error",e)})),n}();i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(o.a,{store:Te,children:Object(n.jsx)(u.a,{history:Z,children:Object(n.jsx)(B,{})})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.de502611.chunk.js.map